<!doctype html>
<html>
    <head><!-- Plotly.js -->
        <script src="https://cdn.plot.ly/plotly-2.20.0.min.js"></script>
	  	<!-- file based javascript library --> <!-- 
	  	<script src="res/js/plotly-latest.min.js"></script>
	  	-->
      	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <title></title>
    </head>
    <body>
    	<button type="button" class="btn btn-primary" onclick="startAnim()">Start</button>
      	<button type="button" class="btn btn-primary" onclick="stopAnim()">Stop</button>      
     	<script>
        
        	var f = 0;
        	var running = true;

        	function update() {
          		Plotly.animate("plot1", {          
            			data: [{x: animationData[f].x, y: animationData[f].y, z: animationData[f].z}],
            			traces: [traceNum]       
   					}, {          
            			transition: {          
              			duration: 0          
            		},          
            		frame: {          
              			duration: 0,          
              			redraw: true          
            		}          
          		});
          		f = f + 1;
          		if (f >= animationData.length){
            		f = 0;
          		}
          		if (running){
           	 		requestAnimationFrame(update); 
          		}        
       		} 

	        function startAnim(){
	          running = true;
	          requestAnimationFrame(update);
	        }
	
	        function stopAnim(){
	          running = false;
	        }

      </script>
      <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    </body>
</html>